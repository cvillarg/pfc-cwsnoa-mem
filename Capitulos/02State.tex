%---------------------------------------------------------------------
%
%                          Capítulo 2
%
%---------------------------------------------------------------------

\chapter{Estado del Arte}

\begin{FraseCelebre}
\begin{Frase}
No sé lo que hace... pero debe ser muy complicado
\end{Frase}
\begin{Fuente}
Ana María del Rosario García Andrés
\end{Fuente}
\end{FraseCelebre}

\begin{resumen}
Este capítulo muestra un estudio de las plataformas móviles y su impacto en las redes de telecomunicaciones de tal forma que son el motor que empuja la evolución de éstas, acercándolas cada vez más a un enfoque cognitivo. Se describe qué son y qué ventajas aportan este tipo de redes. Por último presentamos estudios actuales e implementaciones de estas redes en el campo de los \sphone{s}.
\end{resumen}


%-------------------------------------------------------------------
\section{Plataformas Móviles}
\label{sec:mobilePlatforms}
%-------------------------------------------------------------------

La definición de un \sphone{} no es un concepto muy definido. En general, un teléfono móvil que disponga de un sistema operativo completo y que cuente con una mayor conectividad que un dispositivo tradicional son características válidas para obtener la denominación de \sphone{}. Un hito que suele recoger ambas características es la de poseer de soporte completo al correo electrónico.\\

Se tiene por tanto una evolución desde el \textit{firmware}
propietario cuyo diseño está completamente adaptado al
\textit{hardware} del dispositivo desarrollando sólo las
características indispensables y que vayan a ser usadas, a el
desarrollo de un sistema operativo completo que abstraiga al
\textit{hardware} y dote de funcionalidad completa llegando a
asemejarse a una computadora personal. Este sistema operativo puede
ser de código abierto (Ubuntu Touch) o privativo
(BlackBerry OS), impulsado por operadores (Vodafone360),
fabricantes de dispositivos (iOS) o empresas de \ac{IT}
(\android{}) por citar algunos ejemplos.\\

%XXX-jblesa Cuidado con los acrónimos. Si usas ac{} debería de
%funcionar.

Como consecuencia se tiene un dispositivo con una gran conectividad y almacenamiento de datos, esto habilita la realización de una experiencia \textit{web} completa e independiente. Precursores de los \sphone{s} se valían de la ayuda de su \ac{ISP}, quien facilitaba la navegación \textit{web} adaptando el contenido al navegador del dispositivo. De tal forma que las páginas estándar son traducidas al protocolo \ac{WAP} \cite{bulbrook2001wap}, en sus diferentes versiones: la versión 1.0 no soporta el protoloco \ac{HTTP}, por lo que el uso de una pasarela se hace indispensable. En su versión 2.0 se sigue utilizando tanto ésta como un adaptador de contenidos pues la adaptación sigue siendo necesaria debido a que el contenido y los protocolos usados para proveerlo no están pensados para un mundo móvil. Un ejemplo de un adaptador de contenidos es OpenWave usando en la operadora Vodafone. A esta tecnología le sucedió i-mode \cite{imode} pero no es hasta 2007, cuando un móvil incorpora el soporte nativo del modelo tradicional TCP/IP, cuando se puede hablar de una experiencia completa, dándole la denominación completa de \sphone{}.\\ El marco de conectividad se completa con las diferentes interfaces de comunicación que permiten el intercambio de información a través de más de una tecnología, entre las más comunes: \wifi{}, \bt{}, señalización móvil: \ac{SMS}; datos sobre la interfaz móvil: \ac{GPRS}, \ac{UMTS}, o \ac{LTE}; \ac{NFC}, \wifiD{}\ldots\\

%XXX-jblesa Content adapter en español. Hecho, esta se colo.

Antes de comentar las peculiaridades de las plataformas móviles analizadas, veamos cómo se reparte la cuota de mercado global

\figuraNota{Bitmap/state/smartphone-share}{width=.86\textwidth}%
	{Fuente: IDC, Statista (Marzo 2014), Nota * Estimado}%
	{Cuota de mercado de teléfonos inteligentes, global por plataforma}%
	{smartphone-share}%

Se puede observar que el mercado prácticamente se reparte entre Android e iOS, las cifras de dispositivos son:
\begin{description}
	\item[Android] Unos 900 millones de activaciones y 4800 millones de aplicaciones descargadas a fecha de mayo de 2013 \cite{marketAndroid}.
	\item[iOS] 800 millones de dispositivos y 7500 millones de aplicaciones descargadas a fecha de junio de 2014 \cite{marketIOS}.
\end{description}
Sin embargo, los datos más recientes sugieren que las descargas en la plataforma de Google exceden alrededor del 60\% a las de Apple \cite{appMarket}, pero Apple defiende que sus dispositivos son usados alrededor de un 50\% más que los de Android.
%\vspace{-17pt}
\section*{Descontinuados}
A modo de anécdota comentamos varios sistemas operativos cuyo desarrollo se ha visto interrumpido y cuyo soporte está llamado a desaparecer.

\subsubsection{MeeGo}
Este sistema operativo de código abierto basado en Linux nace tras la alianza entre Intel y Nokia. Cada uno aporta un código fuente a partir del cual evolucionar. Se trata de los sistemas Mobin y Maemo respectivamente, que tenía como objetivo desarrollar un sistema único para dispositivos empotrados como \netbook{s}, tabletas, ordenadores en vehículos, televisiones, teléfonos\ldots 

Tras el anuncio por parte de Nokia de la alianza con Microsoft y los cambios en la dirección de la compañía, se decide abandonar el proyecto, que continúa Intel con la elaboración de Tizen. Sin embargo, la propia comunidad de \textit{software} libre que también participaba en el desarrollo del proyecto, así como ex-trabajadores de Nokia, que esta clacontinúan el desarrollo de \textit{MeeGo} en lo que se denomina Mer. Desarrollos comerciales de este sistema son llevados a cabo por Jolla, una compañía incipiente finlandesa formada por ex-trabajadores de Nokia, desembocando en el sistema operativo Sailfish OS que como el terminal \bsq{Nokia N9} presenta una interfaz sin botones cuya interacción es mediante gestos únicamente.

\subsubsection{Symbian}
Parte como la evolución de EVOC, un sistema operativo para \ac{PDA}, cuando en 1998 se forma el consorcio entre Ericcson, Motorola y Nokia. Hasta 2008, otros fabricantes de móviles se unen para crear diferentes plataformas \textit{software} creadas para Symbian. Es en esta fecha cuando Nokia bajo una fundación sin animo de lucro adquiere el sistema operativo del que mantiene dos repositorios: uno privado con los últimos desarrollos y librerías y componentes privados y otro público reglado por licencia de código libre. Sin embargo en noviembre de 2010 ayudado por las condiciones adversas en el mercado decide abandonar su rama abierta. A partir de este momento las fuerzas se diluyen lo que desemboca en la externalización del desarrollo a una consultora para crear las últimas versiones de este sistema llamadas Nokia Belle. A principios de 2014 Nokia deja de dar soporte a su sistema, que hasta finales de 2010 era el más popular.

\subsubsection{Vodafone360}
Nace en octubre de 2009 como esfuerzos por extender la experiencia de usuario de su navegación Live, dotándola de un sistema operativo completo bajo licencia de código abierto denominado LiMo. Esta distribución basa en Linux se amparaba bajo el paraguas de un consorcio formado por Mororola, NEC, NTT DoCoMo, Panasonic Mobile, Samsung y Vodafone. Tras el poco éxito cosechado con el lanzamiento de los terminales \bsq{H1} y \bsq{M1} fabricados por Samsung y el creciente éxito de Android lleva a la descontinuación del servicio, y la integración de la fundación LiMo en Tizen.

%-------------
\section*{En activo}
Sin embargo, los potenciales sistemas operativos sobre los que desarrollar nuestra aplicación son los que mantienen un soporte. Entre ellos podemos destacar una pequeña lista cuyas características más importantes pasamos a resumir: 

\subsection{Android}
El sistema operativo se empezó a desarrollar para cámaras digitales en 2003 bajo la empresa Android, pero rápidamente cambia el enfoque al darse cuenta que no estaban apuntando al mercado correcto y deciden crear un sistema para competir con Symbian y Windows Mobile. Sin embargo, es el 17 de agosto de 2005 cuando Google adquiere la compañía al tomar la decisión de entrar en el mercado de los \sphone{s}, cuando realmente el proyecto empieza a tomar forma. En 2007 nace la Open Handset Alliance: un compendio de empresas en las que se incluyen Google, algunas operadoras como Sprint o T-Mobile, fabricantes como HTC, Sony o Samsung y fabricantes de componentes electrónicos como Qualcomm o Texas Instruments,  con la intención de desarrollar estándares abiertos para dispositivos móviles, constituyendo Android como un sistema operativo para \sphone{s} construido bajo la versión 2.6 del núcleo de Linux. El alcance del sistema operativo ha ido cambiado con el tiempo y ahora no sólo alcanza a \sphone{s} si no también a tabletas, relojes, televisores y sistemas para automóviles \cite{andWeb}.\\

Android se distribuye bajo licencia de código abierto cuyo desarrollo está liderado por Google, quien libera el código en cada versión, aunque la comunidad puede contribuir a su desarrollo gracias al proyecto \ac{AOSP} \cite{andAosp}. Sin embargo, es común que el \textit{software} venga acompañado de ciertos componentes privativos de los distintos fabricantes como algunos \textit{drivers} o elementos usados para diferenciarse del resto de éstos. Samsung por ejemplo, pone en manos de los desarrolladores unas herramientas adicionales a las que provee la plataforma para controlar sus singularidades \cite{andSamsungSDK}.

Aunque se puede considerar que es una distribución más de Linux, de hecho ha habido contribuciones mutuas al desarrollo del núcleo, lo cierto es que Android no incluye la librería C de \ac{GNU}, si no que integra la librería Bionic \cite{bionic} desarrollada específicamente para este sistema. Tampoco se da soporte a la mayoría de librerías de \ac{GNU}, lo que hace difícil portar aplicaciones de Linux. Para facilitar este fin se desarrolla el \ac{NDK}, un conjunto de herramientas que permiten ejecutar código escrito en C/C++ en la plataforma de Android. Su uso está recomendado para aplicaciones que requieran de mucha carga computacional o tareas muy relacionadas con una programación de bajo nivel.\\

El desarrollo de aplicaciones se lleva a cabo con las herramientas \cite{andTools} incluidas en el \ac{SDK}, entre ellas destaca \bsq{Android \textit{debug bridge}} (adb) que nos permite mediante línea de comandos comunicarte bien con el emulador o bien con un dispositivo real, permitiendo extraer las trazas de depuración, instalar o borrar aplicaciones y hasta simular conexiones o \ac{SMS}. El lenguaje utilizado para desarrollar aplicaciones es Java, aunque a principios 2014 Google lanzó Abobe Cordova~\cite{cordova} para portar las aplicaciones del navegador Chrome desarrolladas en HTML5 a Android. Esta tecnología es usada por el \fwork{} externo PhoneGap que permite escribir aplicaciones con HTML, Javascript y CSS3 empaquetándolas de tal forma como si fuesen aplicaciones nativas para iOS, Android, Windows Phone 7, Blackberry OS, Symbian, Bada y WebOS, por lo que aunque no forme parte de la plataforma es posible escribir aplicaciones en casi todos los sistemas con lenguajes web.\\

Entre las interfaces de comunicación \cite{andConnectivity} soportadas podemos destacar: \wifiD{}, \bt{}, \ac{NFC}, \wifi{} \cite{andWifi} y datos móviles \cite{andMobile}. La característica \adhoc{} está restringida por la plataforma aunque la mayoría de \textit{chipsets} lo soportan pero se necesitan permisos de superusuario para manejarlo.

%---
\subsection{BlackBerry OS}
Propietario de la canadiense RIM, desarrolla su primer dispositivo en 1999 al que integra el correo y un teclado \bsq{QWERTY}. Este sistema operativo es conocido por su enfoque al mundo de la empresa para lo que desarrolló lo que se conoce como sistema \textit{Push}: un sistema por el cual la información es recibida en el mismo momento que se envía. Por este motivo RIM tiene su propia infraestructura que se conecta con los distintos \ac{ISP}. Este sistema centralizado permite un control total y garantizar ciertos parámetros de calidad sobre las conexiones de correo electrónico y mensajería instantánea pero tiene como principal debilidad la disponibilidad \cite{bbAvailability}, aunque debido, a una mala implementación \cite{bbmThreat} también tiene fallos en la seguridad.\\

En 2013 sale el sistema operativo BlackBerry 10, cuyo primer dispositivo en incorporarlo fue el Z10, luego se han ido sumando a este sistema los modelos Q10, Z30, Z3, Passport, Q5, P\rq9982 y P\rq9983. Este sistema nace tras la crisis interna por los problemas en la compañía debido a los fallos de la disponibilidad del servicio y como intento de frenar el bipolio entre \android{} e iOS. Es un sistema basado en una distribución de tiempo real QNX (Unix) que gracias a su tecnología de micro-módulo presenta características de estabilidad avanzadas frente a fallos en las aplicaciones. El sistema es privativo y permitía cuatro formas de desarrollo:
\begin{itemize}
	\item \textbf{Nativo}: Aunque existen varias capas para adecuarse al tipo de desarrollador, la primera  permite desarrollar aplicaciones sobre Cascades, un \fwork{} basado en QT que combina QML y C++. Se soportan librerías gráficas como Unity, Box2D que están basadas en OpenGl, EGLm Scoreloop y en las que también se puede desarrollar. Entre toda la plataforma nos interesan los módulos QtConectivity, QtMobility y QtNetwork, sin embargo investigando éstos no se ha visto que se puedan realizar conexiones \adhoc{}, pero sí \wifiD{}.

	\item \textbf{HTML5}: Se utiliza el \ac{SDK}: \bsq{BlackBerry 10 WebWorks} para su desarrollo añadiendo \textit{plugins} para unir las funciones escritas en Javascript (HTML5) con funciones nativas de la plataforma. El módulo Connection nos permite obtener información sobre la conexión pero no con permisos de escritura.

	\item \textbf{Adobe AIR y Runtime Android}: Se integran máquinas que interpretan el código desarrollado para AIR y Android. Para la versión 10.3.1 se quita el soporte de AIR en favor de HTML5 y Android. Es necesario empaquetar de nuevo la aplicación nativa de \android{} para que pueda ejecutarse e instalarse en un dispositivo de Blackberry 10. Hay dos maneras para portar una aplicación: automática, que puede incurrir en fallos de compatibilidad, o manual, donde el desarrollador elige las \ac{API} apropiadas que quiere usar para evitar incompatibilidades y obligada si se usa el \ac{NDK} para conservar su eficiencia.
\end{itemize}

%---
\subsection{Firefox OS}
Este sistema operativo \cite{firefoxOSbook} está enfocado a
dispositivos móviles: \sphone{s} y tabletas, específicamente en el
sector de gama baja. El modelo de desarrollo es código abierto con
núcleo Linux y utilizando Gecko como motor renderizador de páginas
web. La forma de desarrollar aplicaciones para este sistema operativo
se basa en HTML5 (HTML, CSS y JavaScript) y WebAPI para acceder a los
componentes \textit{hardware} del teléfono. Además Mozilla quiere
estandarizar estas \ac{API} de tal forma que sean accesibles en otros
navegadores para que las aplicaciones desarrolladas para Firefox OS 
puedan ser portadas a otras plataformas con cada vez menos
cambios. Así mismo las WebAPI no son exclusivas del sistema operativo
,si no que están implementadas en toda la plataforma de Mozilla:
Firefox OS, navegador de escritorio y navegador Firefox para
\android{}.

El desarrollador es libre de distribuir la aplicación por el canal que
desee, sin embargo algunas aplicaciones deben ser revisadas y firmadas
por Mozilla si se utilizan ciertas WebAPI que son demasiado sensibles
respecto a la seguridad para que cualquiera pueda ejecutarlas. Esto
pudiera ser un riesgo para el desarrollo de ciertas características
cognitivas, siendo necesaria la modificación del propio sistema operativo
para añadir ciertas funcionalidades si no son aprobadas por el equipo
de Mozilla. Hay dos modelos de aplicaciones: las primeras son aquellas
que están ubicadas en un servidor remoto tal como si se tratase de una
web normal y que son descargadas cuando no están disponibles desde la
caché, permitiendo un mantenimiento más sencillo. Las segundas son aquellas que son distribuidas como un \bsq{zip} e instaladas en el dispositivo teniendo acceso a todas las WebAPI.\\

Tras un breve análisis, podemos destacar que tanto \bt{} \cite{webAPIbt}  como \wifi{} \cite{webAPIwifi} son soportados pero ambas WebAPI necesitan del permiso para ser distribuidas por el \textit{Marketplace}. Sin embargo, para un mayor control de las interfaces de comunicación se necesita que las aplicaciones estén preinstaladas en los dispositivos con la firma de Mozilla, ejemplos son \bt{} \cite{webAPIbtRestrict} y interfaz móvil \cite{webAPImobile}. Por otro lado parece que el modo \adhoc{} en la conexión \wifi{} no está aun soportado \cite{webAPIadhoc}.

%---
\subsection{iOS}
Lanzado en 2007 como iPhone OS por Apple, es un sistema operativo para dispositivos móviles: teléfonos, tabletas, reproductores de música y reproductores para televisión. Tanto el \textit{software} privativo como el \textit{hardware} no licenciado para otras compañías, hacen que junto a Blackberry OS sean las plataformas más restrictivas, de hecho el modelo de desarrollo posiblemente sea el más restrictivo de todos.  Esto se debe a que las herramientas de desarrollo sólo están disponibles para el sistema operativo MAC OS X que sigue el mismo tipo de licencias. Además para poder probar el desarrollo en un dispositivo real se tiene que tener una cuenta de desarrollador con un coste asociado renovable cada año (para ciertas universidades hay programa especial sin coste).\\

El núcleo del sistema está basado en XNU \cite{singh2006mac} de licencia libre y que fue integrado por \textit{Darwin BSD}: el sistema que subyace en MAC OS X. Este núcleo híbrido provee multitarea apropiativa y memoria protegida entre otros. Precisamente estos dos sistemas operativos comparten muchas capas en común: núcleo y servicios principales (\textit{Fundation kit}). Pero en la capa de presentación, debido a las diferencias de computación e interacción iOS tiene como interfaz de usuario Cocoa Touch en lugar de Cocoa.

Las diferentes versiones del sistema operativo han añadido nuevas características. La primera versión no disponía de un \ac{SDK} propiamente dicho relevando el desarrollo de aplicaciones a herramientas web sin tener acceso al \textit{hardware}. La segunda versión introduce además la tienda de aplicaciones y la denominación iPhone OS. Otra versión importante del sistema es la versión 4 cuando adopta la denominación de iOS, que introduce la multitarea (con limitaciones a través de una \ac{API} especial) en aplicaciones de terceros. La única forma de desarrollar aplicaciones para estos dispositivos es bajo el conjunto de herramientas suministradas utilizando el lenguaje Objective-C, además recientemente se puede usar el lenguaje Swift \cite{iosSwift} para programar de forma más concisa y segura sobre la capa de presentación.\\

Las conexiones que permite la plataforma son por una parte: \wifi{} y datos móviles, presentados como una capa de comunicación \cite{iosReach} común en la que el desarrollador parece que no tiene manera de modificar los parámetros de conexión. En la versión 2 del sistema operativo hubo una \ac{API} que permitía desconectar y conectar la interfaz \wifi{}, con las nuevas versiones esta característica se ha visto relevada a un plano interno \cite{iosWiFi}, que releva el desarrollo a fuera de los márgenes de Apple.  Aunque las redes \adhoc{} están soportadas no hay manera de recrear una red de este tipo con los dispositivos actuales \cite{iosAdHoc}. Por otra parte la tecnología \ac{NFC} sólo está disponible en el dispositivo \bsq{iPhone 6} y por el momento sólo se utiliza como pasarela de pagos. La única tecnología que nos puede dar conexiones \ac{D2D} de manera independiente (\wifi{} necesita de una infraestructura externa) y de forma completa es \bt{} \cite{iosBT}. Este sistema nos deja una sensación de comunicación incompleta en torno a las necesidades de la radio cognitiva que no cumplen las expectativas depositadas en la plataforma.


%---
\subsection{Tizen}
Tras el renombramiento de LiMo en Tizen~\cite{tizen} junto con la \textit{Linux Fundation}, continúa el proyecto de crear un sistema operativo para todos los dispositivos móviles. Con respecto a los teléfonos, el único dispositivo de referencia (RD-PQ) se basa en el \bsq{Samsung Galaxy III}. El proyecto aunque abierto a la comunidad aún se encuentra en fase de desarrollo. La versión 2.2.1, que ha traído un cambio en el licenciamiento debido al modelo de patentes de Samsung, quien espera lanzar un piloto comercial en el mercado indio a finales de 2014.

Este nuevo modelo de licencias podría suponer un riesgo, aunque el código será libre siempre, el \ac{SDK} pertenece a Samsung quien lo distribuye bajo una licencia de código no abierto y otros componentes están bajo licencia Flora que no es aprobada por la Open Source Initiative.\\

Con respecto al desarrollo de aplicaciones \cite{tizenArch} existen dos enfoques:
\begin{itemize}
	\item \textbf{Web}:  incluye todas las tecnologías de desarrollo web como HTML5: JavaScript (JQuery y JQuery mobile), así como todas las \ac{API} necesarias para controlar los distintos componentes del \textit{hardware}.
	\item \textbf{Nativo}: si se requiere un control más preciso se puede desarrollar programas en C++, los cuales pueden hacer uso de las librerías Libxml2, EFL, Qt y GPL entre otras, al igual que una serie de funciones publicadas bajo varias \ac{API}.
\end{itemize}

Entre las conexiones \cite{tizenNet} soportadas caben destacar: \wifiD{} y \wifi{} \adhoc{} \cite{tizenAdhoc}. El ciclo de las aplicaciones recuerda mucho a \android{}, de hecho aplicaciones desarrolladas en este sistema operativo pueden ser ejecutadas en Tizen.
 
%---
\subsection{Ubuntu Touch}
Presentado a primeros de 2013 por Canonical, este sistema operativo para dispositivos móviles y tabletas quiere proporcionar una experiencia de usuario muy similar a la versión de escritorio de la distribución Linux Ubuntu. Ambos sistemas comparten las mismas tecnologías núcleo de tal forma que aplicaciones desarrolladas para las últimas versiones de la plataforma de escritorio pueden ser ejecutadas en el dispositivo móvil y viceversa.\\

Ubuntu Touch~\cite{ubuntuTouch} utiliza el \fwork{} Qt5 (QML y C++) para el desarrollo de aplicaciones nativas y la plataforma Adobe Cordova~\cite{cordova}
 para el desarrollo con tecnologías web HTML5. Otros componentes integrados son OpenGL y otros provenientes de MeeGo (oFono: pila telefónica), así como libhybris: una capa para proveer compatibilidad a la librería de C de \ac{GNU} que desciende de Bionic \cite{bionic}
 lo que hace que sea más fácil portar este sistema a dispositivos Android, ejemplo de esto es que los únicos dispositivos por el momento que soportan todas las características son los modelos Nexus aunque con peculiaridades \cite{ubuntuDevices}.

Con respecto a las interfaces de comunicación, debido a que el sistema aún está en fase de desarrollo no están expuestas todas las características en la versión para desarrolladores \cite{ubuntuReleaseNotes}. La característica \adhoc{} se desconoce si será soportada de forma oficial.

%---
\subsection{Windows Phone}
El sistema operativo móvil privativo de Microsoft nace a finales del 2010 como sucesor de Windows Mobile con la versión 7.0 pero no es hasta mayo de 2011 cuando se libera la versión 7.5 cuando podemos hablar de un sistema operativo completo tras la alianza con Nokia. La compañía finlandesa provee gran parte de los modelos que ejecutan este sistema operativo: la gama Lumia. Los desarrolladores tienen acceso a un \ac{SDK} \cite{winNokiaSDK} propio para desarrollar características exclusivas o acceder de manera completa al \textit{hardware} del teléfono.  

A finales de 2012 sale Windows Phone 8 una versión que integra
un nuevo núcleo, hasta ahora basado en Windows CE. Se trata del
núcleo Windows NT que da soporte a procesadores de varios
núcleos. Esta versión sólo está disponible para nuevos dispositivos,
lo que supone un corte con la arquitectura anterior. Al ser un núcleo que comparte muchas
características con la versión de escritorio Windows 8 y poseer
la misma interfaz de usuario: Metro (ahora conocida como 
Modern UI), las aplicaciones pueden ser fácilmente portadas
entre ambas plataformas.\\

%XXX-jblesa ``lo que supone un corte'' ¿un corte con qué?. XXX-cvillar con la arquitectura anterior.

El modelo de desarrollo se basa en las herramientas de .Net a través de XAML \cite{xaml} (C++/CX, C\# o VisualBasic) o HTML5 (HTML, JavaScript: WinJs). Entre las \ac{API} publicadas \cite{winAPI} se puede observar que tenemos control sobre \bt{} y \wifiD{}, pero faltan el control de \wifi{} y la conexión de datos móvil, al igual que parece no haber un soporte a conexiones \adhoc{} \cite{winNetLacks}.


%------------------
\section{Redes de comunicaciones}
Las plataformas móviles cursan sus datos por las redes de comunicaciones repartidas por todo el planeta. Veremos su estado de crecimiento en los momentos actuales y una proyección de futuro enfocada tanto al crecimiento como a la evolución en cuanto a tecnología y características.
\subsection{Crecimiento de las comunicaciones}
Las comunicaciones de banda ancha están experimentando un crecimiento en los últimos años, sobre todo las móviles como podemos ver en el informe para 2014 de la \ac{ITU}~\cite{itu2014report}. El número de líneas fijas (ver figura~\ref{fig:fixed-broadband-suscriptions}) en países emergentes alcanzó en 2013 al de los países desarrollados, debido a que, aunque en ambos mundos se aprecia que la tasa de crecimiento se está reduciendo, el mayor ratio sigue estando en los países emergentes donde se pasa de un crecimiento del 18\% en 2011 al 6\% en 2014, mientras que en países desarrollados el crecimiento pasa del 4.8\% en 2011 al 3.5\% en 2014. El 44\% de las líneas de banda ancha fija están localizadas en Asia-Pacífico (APAC), sin embargo en Europa sólo representa el 24\% del total pero el grado de penetración es el mayor, tónica general de los países desarrollados.\\


\figuraSideBySide{Bitmap/state/fixed-broadband-subscriptions}{width=\linewidth}%
	{Bitmap/state/fixed-broadband-subscriptions-region2014}{width=\linewidth}%
	{Fuente: ITU World Telecommunication/ICT base de datos de Indicadores, Nota * Estimado}%
	{Líneas de banda ancha fijas (suscripciones por cada 100 habitantes) y estimación por región en 2014}%
	{fixed-broadband-suscriptions}%

Con respecto a la banda ancha en las comunicaciones móviles (ver figura~\ref{fig:mobile-broadband-suscriptions}) la penetración es del 32\% (tasa que se ha visto doblada a nivel de 2011 y cuadriplicada a nivel de 2009) llegando a tener 3200 millones de suscripciones de las cuales el 55\% se localizan en países emergentes donde la penetración es del 21\%. La tasa de crecimiento en estos países se espera que alcance el 26\%, cifra que dobla a la tasa de crecimiento de los países desarrollados que se augura que sea del 11.5\%. Sin embargo, al igual que pasa en las comunicaciones fijas, el grado de penetración en estos países es mayor situándose en un 84\%.

\figuraSideBySide{Bitmap/state/mobile-broadband-subscriptions}{width=\linewidth}%
	{Bitmap/state/mobile-broadband-subscriptions-region2014}{width=\linewidth}%
	{Fuente: ITU World Telecommunication/ICT base de datos de Indicadores, Nota * Estimado}%
	{Líneas de banda ancha móvil (suscripciones por cada 100 habitantes) y estimación por región en 2014}%
	{mobile-broadband-suscriptions}%
\newpage
\paragraph{}Centrándonos exclusivamente en el mundo móvil, podemos destacar según los informes de movilidad de Ericcson (EMR) del segundo trimestre de 2013~\cite{ericsson2013report} y de 2014~\cite{ericsson2014report} que se ha incrementado en más de tres cientos millones el número de líneas móviles entre ambos ejercicios, alcanzando la cifra de 6800 millones en el segundo trimestre de dos mil catorce. En el segundo trimestre de 2014 se vendieron alrededor de 300 millones de \sphone{s} que representa un 65\% de las ventas totales, un año anterior suponían un 40\%. Las activaciones netas de líneas móvil se mantienen pasando de un 7\% en el ejercicio de 2013 a un 6\% en él del 2014. (ver figuras \ref{fig:mobile-suscriptions-2013} y \ref{fig:mobile-suscriptions-2014}).

\figuraNota{Bitmap/state/mobile-subscriptions-2013}{width=.607\textwidth}%
	{Fuente: Ericsson (Agosto 2013), Notar que Turquía se incluye desde este momento como parte de Oriente Medio en vez de Centro y Este de Europa. Por esta razón, no se deben hacer comparaciones entre esta  y ediciones previas del informe EMR}%
	{Líneas móviles (total e incremento neto) por región, segundo trimestre de 2013}%
	{mobile-suscriptions-2013}%

\figuraNota{Bitmap/state/mobile-subscriptions-2014}{width=.607\textwidth}%
	{Fuente: Ericsson (Agosto 2014)}%
	{Líneas móviles: incremento neto (círculo) y total (barras) por región, segundo trimestre de 2014}%
	{mobile-suscriptions-2014}%

El grado de penetración evoluciona desde el 91 al 94\% en un año, pero como vemos en la figura~\ref{fig:mobile-penetration} en algunas regiones la tasa es mayor del 100\%. Esto es debido a que no se trata de usuarios únicos, se cree que sólo 4500 millones de personas contratan las 6800 millones de suscripciones móviles.

\figuraNota{Bitmap/state/mobile-penetration}{width=.96\textwidth}%
	{Fuente: Ericsson (Agosto 2014)}%
	{Penetración líneas móviles por región, segundo trimestre 2014}% 
	{mobile-penetration}%

\paragraph{}Todo esto se traduce en un aumento desmedido del tráfico cursado. En el último trimestre de 2009 se produce un hito al sobrepasar el tráfico de datos al de voz. A partir de este momento se aprecia con más notoriedad una tendencia exponencial que se traduce en casi un duplicamiento del tráfico entre los segundos trimestres de 2012 y 2013 y en un incremento del más del 60\% entre los mismos periodos del año siguiente, alcanzando un tráfico de unos 2700 PetaBytes/mes (está cifra está fuera de la gráfica~\ref{fig:dataTraffic-mobileNetworks}).

\figuraNota{Bitmap/state/dataTraffic-mobileNetworks}{width=.96\textwidth}%
	{Fuente: Ericsson (Agosto 2013), Notar que no se incluye el tráfico proveniente de DVb-H, Wi-Fi, o WiMax. Además el tráfico de voz no incluye voz sobre ip (VoIP)}%
	{Tráfico de datos global cursado en redes móviles}% 
	{dataTraffic-mobileNetworks}%

\pagebreak
\subsection{Futuro de las comunicaciones}
\label{networksfuture}
La perspectiva para el futuro mantiene las tendencias actuales (exponencial y lineal) aunque a medida que avanzamos en la gráfica podemos intuir una tendencia cada vez más lineal. Con respecto a las suscripciones móviles se espera que se alcance la cifra de 9200 millones de líneas móviles en 2019, de las cuales el 80\% cuenten con banda ancha. Entre las tecnologías que soporten esta conectividad 2600 millones serán \ac{LTE}, aunque el grueso todavía se espera que sean las tecnología dual actual de \ac{UMTS} y \ac{GSM}. Al final de la década habrá 5600 millones de \sphone{s} y unos 700 millones de dispositivos con conexión móvil: tabletas y ordenadores.

\figura{Bitmap/state/future-subscriptions-si}{width=.56\textwidth}{fig:future-subscriptions}{Estimación número de suscripciones hasta 2019}

\paragraph{}Con respecto a la localización de estas conexiones, el mayor crecimiento (entorno al 60\%) se espera en Oriente Medio y África, pero el mayor número de éstas corresponderán a Asia y Pacífico. Además el 80\% de éstas contarán con la tecnología \ac{UMTS} y \ac{LTE} debido a que las nuevas suscripciones son el motor de su crecimiento.

Todo esto nos lleva de nuevo a un crecimiento exponencial del tráfico cursado por las redes móviles saturando el espectro cada vez más, a pesar de la mayor eficiencia de las modulaciones móviles. Se espera un crecimiento del tráfico en un factor diez entre los años de 2013 y 2019, alcanzando los 12 ExaBytes/mes. Si lo trasladamos al plano del usuario, éste pasará de consumir 650 MB en 2013 a 2.5 GB en 2019 cada mes.

\figura{Bitmap/state/future-traffic}{width=.56\textwidth}{fig:future-dataTraffic}{Estimación tráfico de datos global cursado en redes móviles}


%\figuraSideBySide{Bitmap/analysis/future-subscriptions-si}{width=\linewidth}%
%	{Bitmap/analysis/future-traffic}{width=\linewidth}%
%	{}%
%	%{Source: ITU World Telecommunication/ICT Indicators database, Note * Estimate}%
%	{Estimacición número de suscripciones y tráfico de datos global cursado en redes móviles}%
%	{future-subscriptions-traffic}%

\paragraph{}Estas expectativas de crecimiento harán evolucionar las redes. Este aumento sumado a los requerimientos cada vez más exigentes por parte de las aplicaciones son el motor que alimenta el cambio. En primer lugar la cobertura de las distintas tecnologías aumentará desde 2013 hasta 2019 en los siguientes porcentajes:
\begin{itemize}
\item \textbf{GSM/EDGE (2G)} desde un 80\% hasta un 85\% (>95\% en Europa).
\item \textbf{WCDMA/HSPA (3G)} partiendo de un 60\% hasta el 90\%.
\item \textbf{LTE (4G)} de una implantación del 20\% creciente hasta más del 65\% y cercana al 80\% en el caso de Europa.
\end{itemize}
Europa ha adoptado las tecnologías inalámbricas desde el minuto cero, por ello el grado de penetración es mayor aunque la contrapartida es la necesidad de proyectos de renovación y compatibilidad que otras áreas del mundo no han requerido pues han comenzado directamente con el despliegue de \ac{LTE} de las que actualmente existen 288 redes repartidas en 104 países \footnote{Fuente: GSA Mayo 2014}.

La evolución de éstas redes se centrará en:
\begin{description}
\item[Agregación de portadoras] Cada portadora ocupa 10 MHz, pudiendo combinar varias portadoras para mejorar la eficiencia espectral, desde 2 para alcanzar velocidades de 150 Mbps, o agregar 3 portadoras de 20 MHz para lograr 60 MHz de espectro agregado que soporta una tasa de bajada de 450 Mbps, si la categoría de los equipos involucrados es nueve. Con estas técnicas podemos pasar de una eficiencia espectral de 3.5 
\(
	\frac{bit}{s\cdot Hz}
\)
%$bit/(s\cdot Hz)$
en el enlace de subida para la versión 8, a 15
\(
	\frac{bit}{s\cdot Hz}
\)
para la versión 10: \ac{LTEA}.

\item[Difusión] Aunque la especificación \ac{MBMS}, ya existía en redes \ac{UMTS} \cite{umtsBroadcast}, se espera que sea en la red \ac{LTE} donde alcance pilotos comerciales. El aprovechamiento del espectro radica en que se entrega contenido simultáneamente a varios usuarios bajo solamente un flujo \ac{LTE}, además se permitirá al operador predefinir el nivel de calidad dimensionando la tasa de \textit{bits} para adecuarse a distintas resoluciones y tipos de contenido. 

\item[Voz de alta resolución] La red \ac{LTE} ha sido diseñada para la optimización de transferencia de paquetes de datos, por lo tanto deja fuera los circuitos conmutados por los que tradicionalmente iba la voz, en lugar se sustituye el núcleo de red por un sistema \ac{IMS} que permite su evolución mediante actualizaciones de \textit{software}. Sin embargo, el tráfico de voz como hemos visto es insignificante pero su codificación, utilizando \textit{chipsets} que soporten \ac{VOLTE}, utiliza eficientemente el espectro y está abierta a nuevas optimizaciones.

\item[Aprovechamiento de otras zonas del espectro] Más conocido como \textit{refarming}: proceso por el cual se utiliza una banda del espectro para usos diferentes de los que inicialmente fueron asignados. Para dar soporte a todo el tráfico que se prevé que cursen las redes \ac{LTE}, es necesario mover y utilizar las frecuencias donde se dan las mejores condiciones de propagación para entre otros beneficios, evitar retransmisiones. El proceso se conoce como dividendo digital del que en una primera versión  se estudió la banda entorno a los 900 MHz (la mejor propagación), pero para 2015 la \ac{ITU} está preparando un segundo dividendo en este caso centrado sobre los 700 MHz \cite{refarming700}.
\end{description}

Nos movemos a un concepto de red heterogénea sin fisuras, donde para mejorar el rendimiento y la capacidad se necesita: coordinación, formar la red de acceso con nodos que consuman poca energía (micro, pico, \wifi{}) y soluciones de interior localizadas.

Una solución para conseguir este propósito pasa por evolucionar la
capa de la macro célula integrando células más pequeñas. Para proveer
al usuario de una experiencia sin fisuras en estas redes heterogéneas,
todas la capas, dominios y nodos de red tienen que estar unidos y
sincronizados con un grado sin precedentes, muy cercano al enfoque del  
tipo de red que veremos en la sección~\ref{sec:cognitiveNetworks}.
Se necesita por tanto coordinación entre las pequeñas células
y las macro que las contienen, gestión común de red y gestión del
tráfico y movilidad de usuarios.

%XXX-jblesa Aseguraté de que hayas hablado de lo que es una CN antes
%de mencionarla aquí. XXX-cvillar mmm pues no hago referencia.

%\begin{minipage}[t]{.6\textwidth}%
%\paragraph{Coordinación a nivel radio} Siguiendo las especificaciones de \ac{UMTS}: traspaso suave, célula combinadas e introduciendo la tecnología de \ac{CoMP} para el canal de subida, se consigue doblar las tasas de datos, en situaciones en las que varias células de distintas antenas están próximas.%
%\end{minipage}%
%\begin{minipage}[t]{.4\textwidth}%
%\centering%
%\includegraphics[width=.8\linewidth]{Imagenes/Bitmap/analysis/combinedCell}%	
	%\figuraNota{Bitmap/analysis/combinedCell}{width=.76\linewidth}%
	%{Fuente: Piloto LTE software comercial}%
	%{Tráfico de datos global cursado en redes móviles}% 
	%{a}%
%\end{minipage}%

\begin{center}%
	\begin{minipage}[b]{.5\textwidth}%
\paragraph{Coordinación a nivel radio}Siguiendo las especificaciones de \ac{UMTS}: traspaso suave, células combinadas e introduciendo la tecnología de \ac{CoMP} para el canal de subida, se consigue doblar las tasas de datos en situaciones en las que varias células de distintas antenas están próximas. A la derecha podemos ver un ejemplo de usar o no esta coordinación.%
%\\[17pt]
	\end{minipage}%
	\begin{minipage}[t]{.5\textwidth}%
		\centering%
		
		\includegraphics[width=.9\linewidth]{Imagenes/Bitmap/state/combinedCell}%
		
{\footnotesize\sf Piloto LTE con software comercial}%
	\end{minipage}%
\end{center}%


\paragraph{Coordinación entre la capa de células} Para doblar la capacidad de la red en una ciudad, necesitaríamos añadir nueve células pequeñas por cada célula macro que tengamos. Sin embargo si existe una coordinación entre todas ellas, sólo necesitamos añadir cinco o tres células. Esto a parte de dejar sitio para incrementar la capacidad, nos resuelve el problema de posicionar tantas células y la interconexión a la red.

\figura{Bitmap/state/coordinatedCell}{width=.96\textwidth}{fig:coordinatedCell}{Número de células necesarias para dar la misma capacidad en función de su interoperabilidad}

\paragraph{Gestión del tráfico y movilidad de usuarios} Se incluyen tecnologías para de una manera coordinada y traspasar usuarios entre tecnologías de acceso radio. A parte de las tecnologías de acceso \ac{3GPP}, se incluye \wifi{} pues es una tecnología más entre las ofertadas para banda ancha móvil. Así podemos esperar comportamientos en los que un usuario cambia de \ac{LTE} a \wifi{} sólo cuando le ofrece una mejor experiencia, en vez de cuando está inmediatamente disponible tal y como ocurre ahora.

\paragraph{Gestión de red común} Obliga a tener una sola arquitectura de red y unos \ac{KPI} que se recojan y sean visibles al resto.


\begin{center}%
\begin{minipage}[t]{.5\textwidth}%
	\centering%
	\includegraphics[width=.9\linewidth]{Imagenes/Bitmap/state/rds}%

{\footnotesize\sf Red acceso pico-célula: LTE FDD 20 MHz}%
\end{minipage}%
\begin{minipage}[b]{.5\textwidth}%
\paragraph{Soluciones de interior} Algunos edificios son puntos de concentración de usuarios que sobrecargan la red llegando a interferir entre ellos, con la dificultad añadida de la pobre cobertura dentro de estos recintos. Para ello se pueden instalar pico-células cuyo camino de salida sea el enlace de banda ancha fijo que posea el edificio. Estas pico-células forman lo que se conoce como un \ac{RDS}. A la izquierda podemos ver ejemplo de dimensionamiento en un edificio de 24 plantas con 2500 m\textsuperscript{2} de superficie cada una.%
	\end{minipage}%
\end{center}%
                                                                                      
%-------------------------------------------------------------------
\section{Cognición en los dispositivos}
\label{sec:cognitiveNetworks}
%-------------------------------------------------------------------

Las actuales redes de datos usadas en telecomunicaciones limitan la habilidad de éstas para adaptarse resultando en un rendimiento muchas veces por debajo del punto óptimo. Limitadas por definición, ámbito y con pobres mecanismos de respuesta, los elementos de red (consistentes en nodos, capas de protocolos, políticas y comportamientos) son incapaces de ejecutar adaptaciones inteligentes. 

La comunicación del estado y situación de la red se ve cortada por la capa de transporte que abstrae estos detalles, desembocando en que los elementos individuales de red no son conscientes del estado de la red que experimentan otros elementos. Ante un evento de red, cualquier interacción de un elemento de red queda restringido a su ámbito local. Por todo ello, las adaptaciones suelen ser reactivas y no predictivas, actuando una vez ha ocurrido el problema.

Los términos inteligente o cognitivo se han popularizado en varios campos incluido las telecomunicaciones. Los mismos términos se aplican frecuentemente dentro de este sector para diferentes sistemas de redes y comunicaciones. Hay una gran controversia entre los diferentes autores para definir y calificar qué son las redes cognitivas. %Una cosa que está clara es que este tipo de redes se debe apoyar sobre una radio cognitiva

\subsection{Radio cognitiva}

La \ac{CR} nace como una de las posibles soluciones a la crisis del espectro. En los últimos años no son pocas las voces que evidencian la saturación del espectro radioeléctrico~\cite{corvus}. Sin embargo organismos reguladores como \ac{FCC}~\cite{fcc} or \ac{OFCOM} denotan que estamos ante un mal aprovechamiento del espectro radio: ciertas bandas de frecuencia están muy pobladas como las bandas \ac{ISM}~\cite{wpanIssues} y las utilizadas para telefonía móvil, mientras que otras casi no tienen uso como las bandas de propósito militar, para radioaficionados o las destinadas a las comunicaciones por satélite. 

La utilización del espectro depende en gran medida del tiempo y del espacio: podemos tener comunicaciones en una banda realizadas sobre un intervalo de tiempo acotado y en un lugar determinado, produciéndose un infrauso de la banda en el resto de lugares y en el resto del tiempo. Esto supone un problema desde el momento en que se realiza una reserva estática para aplicaciones específicas del espectro, por parte de organismos reguladores~\cite{cuadroFreqReserva}, desembocando en un uso ineficiente del mismo. Esta reserva está motivada para garantizar el acceso sin interferencias a ciertas aplicaciones y garantizar así una calidad de servicio. Se estima que se usa un 10\% del espectro total, pero esta cifra alcanza el 95\% si nos limitamos a frecuencias por debajo de 3 GHz tal y como se ve en la figura~\ref{fig:spectrum}. 

\figuraEx{Vectorial/state/spectrumuse}{width=.7\textwidth}{fig:spectrum}%
{Potencia media observada en el área urbana cerca del \textit{Berkeley Wireless Research Center} donde se observa la medida del espectro utilizado hasta la banda de los 6 GHz. Medida realizada a medio día con una resolución de 20 KHz sobre una medición de 50 microsegundos con una antena direccional de 30 grados~\cite{seung}.}{Medida del espectro utilizado (hasta 6 GHz) en un área urbana}

Sin embargo, ya que el uso del espectro está fuertemente localizado en el espacio y tiempo, esta interferencia no llega a producirse en la mayoría de las ocasiones. Estas oportunidades de espectro sin usar es lo que busca la radio cognitiva que son fuente de numerosas investigaciones.

El concepto de esta radio está bien definida por Joseph Mitola~\cite{mitola1}\cite{mitola2}, aunque si que es verdad que emerge una confusión cuando el término \ac{SDR} y \ac{CR} se usan indistintamente. Una \ac{SDR} es simplemente una radio que ha colocado la mayor parte de la funcionalidad de las \ac{RF} e \ac{IF}, lo que incluye la síntesis de la forma de onda, en el dominio digital. Permitiendo gran flexibilidad en la operación de la radio. La \ac{CR} muchas veces se asienta sobre una \ac{SDR}, sin embargo, es la ``inteligencia'' cognitiva quien gobierna a esta capa, indicando qué modo y qué parámetros debe usar. Que una radio posea \ac{SDR} o sea progrmable no es requisito suficiente para considerarla cognitiva tal y como se sugiere el organismo \ac{FCC} en~\cite{fcc1}.

La \ac{CR} tal y como sugieren Mitola y Maguire, abre un nuevo paradigma donde los dispositivos que usan de una comunicación sin hilos cambian sus parámetros de transmisión o recepción para comunicarse eficientemente. La alteración de estos parámetros se basa en la monitorización activa de aspectos tanto internos como externos al entorno radio: estado de la red, comportamiento de la aplicación y uso del espectro. La \ac{CR} es consciente de su entorno y aprende de éste para adaptarse a variaciones observadas estadísticamente~\cite{brainempower} con dos objetivos principales:
\begin{itemize}
	\item Lograr comunicaciones sumamente fiables
	\item Uso eficiente del espectro radioeléctrico
\end{itemize}

Las principales funciones~\cite{dsa}\cite{CRfunctionality} de los dispositivos que usen \ac{CR} son:
\begin{description}
	\item [Sensado del espectro] Una importante característica es la de averiguar qué partes del espectro no están siendo utilizadas y compartirlo sin interferir con otros usuarios. Especialmente a los legítimos, que son aquellos que tienen asignada esa porción del espectro con una asignación estática. Podemos distinguir varias técnicas de sensado:
	\begin{itemize}
		\item \textbf{Detector de transmisores}: La \ac{CR} debe tener la capacidad de detectar si usuarios primarios (los legítimos) están transmitiendo localmente en una zona del espectro. Podemos citar algunas técnicas comunes como filtro adaptado, detección de energía o procesos cicloestacionarios para detectar la presencia de señal.
		
		\item \textbf{Detención cooperativa}: Se refieren aquellos métodos \cite{sensing} que integran la información de varios dispositivos de \ac{CR}.

		\item \textbf{Detección basada en interferencias}: Aquellas técnicas que intentan averiguar cuál es la diferencia entre el ruido detectado y la máxima de cantidad de ruido que el usuario primario puede asumir. Se intenta así transmitir una señal entre estos dos límites, de tal forma que no sea un ruido más pero que el usuario primario aún la considere como ruido. Estas técnicas no son comunes debido a la legislación en favor de los usuarios primarios.
	\end{itemize}
\item [Control de potencia] Esta técnica se usa tanto para acceder al espectro de forma oportunista cuando no se está utilizando, como para la compartición apropiada del espectro. El acceso oportunista busca el nivel de corte de la \ac{SNR} que permite establecer un canal. Por otro lado la compartición del espectro que realiza la \ac{CR} busca encontrar qué restricción en la potencia de transmisión debe imponer para que la interferencia entre usuarios de \ac{CR} no moleste al usuario primario. En~\cite{threshold} se propone una unión conjunta de control de potencia y sensado del espectro para maximizar la capacidad de los canales usados.

\item [Gestión del espectro] Determinar la mejor porción disponible del espectro para satisfacer los requerimientos de comunicación del usuario, mientras que al mismo tiempo no se interfiera indebidamente a otros usuarios. La \ac{CR} debe decidir cuál es la mejor banda del espectro (entre toda la porción disponible) para cumplir una \ac{QOS} dada.
\end{description}

Podemos clasificar la \ac{CR} dependiendo de la zona de operación y de las características que tenga. La primera cladificación podemos distinguir:
\begin{itemize}
	\item \textbf{Radio cognitiva en bandas licenciadas}, capaz de usar bandas asignadas a usuarios legítimos o primarios.
	\item \textbf{Radio cognitiva en bandas sin licencia}, es aquella radio que sólo opera en bandas en las que no hace falta tener licencia. Uno de estos sistemas es el descrito en las especificaciones \ac{IEEE} 802.15 TG2~\cite{802152}.
\end{itemize}
Si atendemos a las características que posea la \ac{CR}:
\begin{itemize}
	\item \textbf{Radio cognitiva plena o radio de Mitola}, en esta radio se tienen en cuenta todos los posibles parámetros que sean observables por el nodo~\cite{mitola1}.  Mitola propone un algoritmo basado en el ciclo ``ODDA''~\cite{oodaLoop} formado por cuatro fases: Observación del entorno, Orientación o evaluación de la información obtenida, Decisión y planeamiento de las acciones tras la evaluación y por último Actuación o realización de las acciones pertinentes para llevar a cabo el plan elaborado.
	\item \textbf{Radio cognitiva de sensado del espectro} en la que sólo se tiene en consideración el espectro radio~\cite{brainempower}. Este problema, uno de los más complicados, es objeto de numerosos estudios que se centran tanto en desarrollos de dispositivos de alta calidad de sensado, como en técnicas y algoritmos para intercambiar esta información perteneciente a las funciones de gestión del espectro.
\end{itemize}

La \ac{CR} como vemos puede incluir más o menos funcionalidades, al igual que puede anclarse en múltiples arquitecturas. Una posible razón es que el alcance de la \ac{CR} abarca demasiado y por ello es normal encontrar simplificaciones como dedicarse exclusivamente a la asignación dinámica del espectro. Un ejemplo de ello es el grupo de trabajo \ac{IEEE} 802.22~\cite{80222web} formado en noviembre de 2004 que publicó en 2011 su estándar~\cite{standar80222}\cite{80222} que aprovecha, mediante el sensado, usar el espectro a dispositivos sin licencia en bandas asignadas a servicios de televisión para recrear redes \ac{WRAN} de acceso a internet en áreas rurales poco pobladas.


\subsection{Red cognitiva}

El concepto de \ac{CN} se apoya en los mismos conceptos que la \ac{CR}, pero con un ámbito que alcanza conceptos más globales y menos individualizados. Mientras que la \ac{CR} se centra en los niveles físicos (PHY) y de enlace o acceso al medio (MAC), la \ac{CN} necesita de más capas y protocolos para llevar a cabo su tarea. Una \ac{CN} no es una red formada por dispositivos cuya radio sea cognitiva, ésta podríamos denominarla como \ac{CRN}. En estas redes el ámbito continua en las capas física y enlace pero operando con una especie de meta global~\cite{mitola2}\cite{gamecr}.

Como podemos intuir, al contrario que la \ac{CR} su definición no está del todo clara. En los últimos años han salido a la luz términos como antenas inteligentes~\cite{smartantenna}, paquetes inteligentes~\cite{smartpackets}, paquetes cognitivos~\cite{cognitivepackets}, radios inteligentes~\cite{smartradio}, \ac{CR}~\cite{mitola1}\cite{brainempower} y \ac{CN}~\cite{cn1}\cite{cn2}. Todos ellos mencionan los términos cognitivo e inteligente pero ninguno aclara o precisa el concepto de red cognitiva, el aspecto común que nombran es la habilidad de auto modificación, pero el concepto de \ac{CN} va más allá que la de ser una tecnología que puede auto modificarse. El primero que esbozó cómo debería actuar la \ac{CN} a nivel de sistema dentro del ámbito de una \ac{CR} fue Mitola en~\cite{mitola1}. Saracco \cite{saracco} la vaticina como el futuro en las tecnologías de la información. M\"ah\"onen et al. en \cite{cn1} ve oportunidades para aplicar la sensibilidad de las redes móviles \ac{IP} de nueva generación al campo de la \ac{CN}. Sin embargo son conceptos incompletos y no se especifica claramente qué es una \ac{CN}, cómo debe funcionar y qué problemas debe resolver. Lo que está claro es que se necesita cada vez más un concepto de red distinto que extienda la inteligencia de red al borde de ésta y que la información fluya sin restricciones.

Una de las primeras definiciones de \ac{CN} la sugiere Clark~\cite{knowledgeplane}, como aquella red que se autoensambla dadas unas instrucciones de alto nivel, ajustándose cuando los requerimientos cambien, descubriendo automáticamente cuando algo no funciona como se desearía, solucionando el problema o explicando por qué no se puede resolver. El autor Thomas ahonda más aún dando una definición completa en~\cite{thomasCN}:
\begin{quotation}
Una \ac{CN} tiene un proceso cognitivo que percibe las condiciones actuales de la red y con ellas planea, decide y actúa. La red puede aprender de estas adaptaciones y usarlas para futuras decisiones, todo ello teniendo en cuenta metas de extremo a extremo. 
\end{quotation}
Y posteriormente la matiza en su tesis doctoral~\cite{thomas}:
\begin{quotation}
Una red compuesta de elementos que, a través del aprendizaje y el razonamiento, se adapta dinámicamente a las variaciones de las condiciones de red para mejorar el rendimiento de extremo a extremo. En una \ac{CN}, las decisiones son tomadas para satisfacer los requerimientos de la red como un todo, en vez de los de los elementos individuales de la red.
\end{quotation}


Para que las adaptaciones no sean reactivas y sean predictivas tal y como sugiere Thomas, se necesitan una serie de protocolos y asentarse sobre una capa \ac{SAN}: un concepto similar a la capa \ac{SDR} en \ac{CR} y así lograr un rendimiento mayor de extremo a extremo a lo largo del tiempo que una red convencional ya sea en el terreno de la gestión de los recursos, la \ac{QOS}, la seguridad y control de acceso u otros campos. Este rendimiento extendido en el tiempo debe ser positivo, teniendo en cuenta la penalización que las cabeceras, las operaciones y la arquitectura extra que añade la \ac{CN}.

Las redes \ac{CN} son más propensas a utilizar optimizaciones transversales en el modelo de capas\footnote{Cross-layer}, actuando simultáneamente en parámetros que pertenecen a múltiples capas en la pila de protocolos. En~\cite{crossLayer} podemos ver estos protocolos que necesitan comunicar información entre capas y borran de alguna manera las fronteras y las restricciones entre ellas. No obstante, si estas soluciones se centran en optimizar el enlace sin tener en cuenta el contexto global, estaremos ante un mecanismo que no suministra el plano de extremo a extremo necesario en una \ac{CN}. Estos algoritmos dependen de la flexibilidad y de la adaptabilidad de lo subyacente: las funcionalidades de la \ac{SAN} implementada.\\ 

La arquitectura de una \ac{CN} debe ser escalable y flexible para albergar futuras mejoras y elementos. Su implementación puede ser más o menos fácil teniendo en cuenta el tipo de usuarios que contenga. En entornos homogéneos como el militar, regulados por ley o corporativos los diferentes nodos están más concienciados con la meta común a toda la red al igual que con su propia meta. En otras aplicaciones de red como un acceso \ac{WAN} comercial (u otras redes formadas por usuarios no relacionados) los nodos son más propicios a actuar de una forma más egoísta priorizando su meta frente a la común. La diferencia entre los dos entornos se conoce como \bsq{precio de la anarquía}: se define como la diferencia en el rendimiento entre una red donde un dictador benevolente el cual conoce todo y aquella gobernada puramente por el egoísmo anarquista. El lado hacia el que se incline la red indica el grado de complejidad y la cantidad de información que se necesita para cumplir con las metas. Si el rendimiento observado cuando se actúa con fines egoístas es peor que cuando se actúa por el común, la \ac{CN} debe quizás guiar de una manera más centralizada o una estructura que incentive a los elementos de red, en vez de limitarse a fijar una meta de extremo a extremo.

El efecto que hacen las decisiones cognitivas en la red depende de la cantidad de información de red disponible. Para que una \ac{CN} tome decisiones basadas en la meta global, el sistema debe conocer tanto el estado actual de red como las metas vigentes. Hay varios modelos para conseguir este propósito, desgraciadamente conseguir una imagen completa del estado de la red es objetivo muy costoso, además pueden emerger problemas de confianza y veracidad entre la información distribuida entre los nodos:
\begin{itemize}
	\item \textbf{Centralizado}, donde un servidor central hace el seguimiento de todas la metas globales de la red y estado de ésta. Uno de los problemas más importantes es que este esquema expone un punto de fallo único. 
	\item \textbf{Distribuido}, donde todos los nodos comparten la información observada y no hay una autoridad central que obtenga o disemine estos datos. Esta red necesita de un modelo más complejo donde es necesario transmitir mucha más información de señalización.
	\item \textbf{Híbridos}, intentan resolver los problemas descritos, un ejemplo es aquella red que distribuye sus metas extremo a extremo por todos los nodos, pero usa un repositorio común para almacenar y cortejar el estado de la red.
\end{itemize}

Thomas en~\cite{thomasCN} propone un marco cognitivo que se divide en tres capas cuyo núcleo es el proceso cognitivo que a su vez se estructura también en tres partes:
\begin{itemize}
	\item \textbf{Lenguaje de especificación cognitiva}, permite conectar los requerimientos de alto nivel de los usuarios de la red con la capa cognitiva. Se desarrolla por tanto una interfaz con la que entrar al proceso cognitivo.
	\item \textbf{Capa cognitiva}, aquí se reflejan aspectos como la centralización de la red y la que realiza el bucle de cognición ya presentado en la \ac{CR} a este bucle habría que añadir aspectos como las metas. Este bucle funciona a pesar de que no conozcamos todos los detalles o la realidad a percibir sea bastante compleja. Debido a que esta realidad nunca es aleatoria, tras unas iteraciones, el sistema converge a un punto o al menos a una región. Para realizar el proceso de aprendizaje se sugieren usar estos algoritmos:
	\begin{itemize}
		\item \textit{Algoritmos genéticos}, siempre que se habla de aprendizaje en máquinas e inteligencia artificial surge el término de redes neuronales. Si la respuesta de la red se puede modelar como un patrón de ruido, una red neural puede ayudar para clasificar y reconocer este patrón dadas unas respuestas predeterminadas. Este tipo de algoritmos funcionan mejor cuando el proceso está centralizado y se conocen bastantes detalles del mismo.
		\item \textit{Sistema experto}, mediante respuestas \bsq{si}, \bsq{no} o \bsq{ns/nc} estos sistemas pueden guiar la toma de decisiones en un campo de conocimiento muy específico.
		\item \textit{Filtro Kalman}, no es considerado como un algoritmo de aprendizaje como tal, pero está compuesto de un algoritmo adaptativo controlado mediante realimentación. Es útiles en sistemas con gran cantidad de ruido. Mediante la recursividad y medidas de ruido Gausianas, este filtro es capaz de predecir el estado actual y futuro del sistema.
		\item \textit{Aprendizaje de autómata}, es el método más simple de aprendizaje de un sistema con una realimentación desconocida. Un campo de aplicación son aquellos sistemas que incluyen varios elementos dinámicos interactuando en un sistema complejo. Son especialmente útiles en un sistema distribuido que requiera muy poca información sobre el estado del mismo.  
	\end{itemize}
Estos algoritmos son muy importantes que funcionen correctamente para evitar que la red se adapte en una condición que en computo global sea peor a la anterior. Por el hecho de ajustar un parámetro podemos poner el riesgo a otros, siempre habrá un precio que pagar por cada modificación, el punto óptimo es encontrar el equilibrio.
	\item \textbf{Sensores del estado de la red}, su función es la de suministrar realimentación sobre el estado de la red a la capa cognitiva, para que ésta reconozca los patrones y umbrales para una posible actuación. Esta información puede ser tratada solo localmente o por necesidades de la red, ser distribuida entre todos los nodos. 
\end{itemize}


Un pequeño y sencillo ejemplo publicado en~\cite{example} ilustra la necesidad de el objetivo extremo a extremo en vez adaptaciones basadas en el enlace más inmediato.

\figuraEx{Bitmap/state/example}{width=.5\textwidth}{fig:example}%
{Simple red de retransmisión obtenida de~\cite{example}.}{Simple red de retransmisión para una red de conectividad sin hilos.}

Consideramos la transmisión entre el nodo originario $S_{1}$ y el nodo destino $D_{1}$ como se muestra en la figura~\ref{fig:example} en su parte izquierda. El nodo $S_{1}$ no tiene suficiente potencia para alcanzar directamente al nodo destino, así que usa la ruta a través de $R_{1}$ y/o $R_{2}$. Se asume que la meta de extremo a extremo es tener una transmisión satisfactoria con la mayor probabilidad. El protocolo o capa de encaminamiento determinará la ruta basada en el mínimo número de saltos, que en este caso involucra a cualquiera de $R_{1}$ o $R_{2}$. El nodo $S_{1}$ establecerá la conexión con aquel que reporte mejor \ac{SINR}. Desde el punto de vista de $S_{1}$ esta es la mejor elección para que los datos lleguen al nodo que retransmite. Sin embargo, esto no significa que la probabilidad de que los datos lleguen a destino sea mejor o peor, no hemos tenido en cuenta el concepto de extremo a extremo. En oposición a la adaptación basada en enlace, una \ac{CN} usará la información observada por todos los nodos para calcular la ruta con mayores probabilidades desde $S_{1}$ a $D_{1}$ a través de $R_{1}$ o $R_{2}$, teniendo en cuenta la calidad de los enlaces entre $R_{1}$ y $D_{1}$ o $R_{2}$ y $D_{1}$. Esto precisamente muestra el beneficio de tener en consideración un ámbito de extremo a extremo.\\

Sin embargo, las posibilidades de una \ac{CN} no acaban aquí, para ilustrar esto tenemos en cuenta toda la figura~\ref{fig:example}. Supongamos que tanto $S_{1}$ como $S_{2}$ transmiten a través de $R_{2}$. Supongamos también que el algoritmo de aprendizaje mide las posibilidades de la transmisión como la fracción de paquetes entregados correctamente desde el origen hasta el destino.

Si $R_{2}$ se congestiona debido al gran volumen de tráfico proveniente de $S_{2}$, esta situación desemboca en que el ratio de paquetes correctamente entregados disminuye. El proceso cognitivo determinará que la ruta a través de $R_{2}$ no es óptima, encaminando el tráfico por otros nodos retransmisores. La \ac{CN} no ha conocido explícitamente que que haya habido una congestión en $R_{2}$ porque esta información no está incluida en la \ac{SINR} observada. Con todo, se ha podido deducir que ha habido un problema basándose en la disminución del caudal, dando una solución. Este ejemplo nos ha ilustrado el poder de las \ac{CN} que tienen adaptándose teniendo en cuenta metas globales y reaccionando, gracias a la información obtenida, ante situaciones inesperadas.
 

\subsection{Red cognitiva de sensores inalámbrica}

Una red de sensores inalámbrica, o \ac{WSN}, es un conjunto de nodos distribuidos en el espacio para monitorizar gracias a uno o varios sensores por cada nodo aspectos físicos o condiciones ambientales. La información obtenida la van construyendo poco a poco cada nodo que sabe una pequeña parte de toda esa información, para lograrlo, la cantidad de nodos varia desde unos pocos, hasta cientos incluso miles. Cada nodo es un sistema empotrado de capacidad, a menudo, limitada y de pequeño tamaño. El coste también es una restricción, lo que repercute en energía, memoria, velocidad de computación y comunicaciones limitadas. Las aplicaciones que tienen este tipo de redes que son consideradas la principal tecnología para desarrollar ambientes inteligentes~\cite{Benini20061639}, son (entre otras):
\begin{itemize}
	\item \textit{Monitorización industrial}. Para controlar el estado de conservación de máquinas industriales o en general cualquier gestión o control de aplicaciones industriales evitando el despliegue de cable.
	\item \textit{Monitorización de estructuras}. Sensores distribuidos a lo largo de un puente, túnel o edificios pueden ayudar a obtener datos para prevenir daños estructurales derivados de sobrecargas o por efecto del clima o vibraciones.
	\item \textit{Monitorización ambiental}. Como control de calidad del aire, del agua, contaminación atmosférica, detección de incendios forestales, movimientos de tierra o cualquier desastre natural son sus usos más normales.
	\item \textit{Domótica}. Podemos monitorizar las actividades realizadas en un hogar inteligente con una \ac{WSN}. Se habilita que los objetos del día a día actúen en base a los cambios de estado capturados por la red.
	\item \textit{Agricultura}. Usados en comúnmente en invernaderos donde el riego y el control del ambiente es clave para lograr rendimientos altos.
	\item \textit{Localización pasiva y seguimiento}. Aplicaciones orientadas a detectar dónde ha ocurrido algo o seguimiento de presencia sobre un área. Controlar intrusiones no deseadas y demás aplicaciones de seguridad o vigilancia.
	\item \textit{e-Salud}. Se presenta como un nuevo uso para las \ac{WSN} para monitorizar parámetros del cuerpo y observar patrones de salud y comportamiento. Estas redes pueden ser usadas para mejorar el diagnóstico y otros usos médicos o prevenir accidentes en el trabajo o domésticos.
\end{itemize}

Si añadimos los conceptos de \ac{CR} y \ac{CN} a las \ac{WSN} desembocamos en las redes cognitivas de sensores inalámbricas, en adelante \ac{CWSN}. Estas redes como hemos visto incrementan la complejidad por los algoritmos que se ejecutan y la sobrecarga en la señalización de la red. Los agentes cognitivos son capaces de hacer decisiones de manera activa para ayudar a cumplir metas de extremo a extremo, mientras que los conceptos de \ac{CR} permiten aprovechar de manera oportunista el uso de entornos heterogéneos inalámbricos mediante el uso de varias interfaces de comunicación para colocar la comunicación en la parte del espectro que más convenga.

Las principales interfaces de comunicación en estas redes se basan en el estándar \ac{IEEE} 802.15.4 \cite{wpanieee}, que define las capas físicas y enlace del modelo \ac{OSI} que busca comunicar datos en un rango cercano, \ac{WPAN}, con poca energía y sin que haya una infraestructura por debajo. Algunas implementaciones de este estándar son los protocolos \bt{}~\cite{bluetooth}, ZigBee$^{TM}$~\cite{zigbee}, WirelessHART~\cite{hart}, ISA100.11~\cite{isa}, o MiWi$^{TM}$~\cite{miwi}. Otro protocolo popular de comunicaciones es \ac{IEEE} 802.11~\cite{802.11}, en el cual se basa \wifi{}~\cite{wifi}, debido a la convergencia total hacia \ac{IP} se incluye este estándar que no cumple la restricción de baja energía, no obstante para solucionar este problema emerge el estándar \ac{6LOWPAN}~\cite{6lowpan} que permite enviar paquetes \ac{IP} sobre redes basadas en 802.15.4.\\

El aspecto cognitivo no sólo ayuda a lograr metas de extremo a extremo para toda la red, si no que incrementa la fiabilidad de la red y reduce el mantenimiento bajando el coste y alargando la vida útil de  la red. Los estudios~\cite{gamewsn}\cite{neuralcsn}\cite{crwsn}\cite{crbasedwsn} revelan el interés creciente por aplicar técnicas cognitivas a las \ac{WSN}.



%-------------------------------------------------------------------
\section{Conceptos cognitivos aplicados al campo de teléfonos inteligentes}
\label{sec:CRsmartphone}
%-------------------------------------------------------------------

Hemos visto (en la sección~\ref{networksfuture}) que la evolución de las redes 4G (\ac{LTE}) prevé mecanismos para evitar la concentración de tráfico localizado mediante el uso de difusión, despliegue de células más pequeñas, coordinación entre células y gestión centralizada del tráfico. Estas palancas de actuación aunque no parecen estar orientadas bajo una perspectiva puramente cognitiva con metas de extremo a extremo, sí que comparten algunos de sus principios como la colaboración, el sensado y la finalidad de evitar el colapso del espectro. La tendencia, según los últimos congresos celebrados \cite{cnPhoneCongress}  sugieren que la infraestructura de acceso a las redes móviles tenga cada vez más características de la radio cognitiva \cite{cnPhoneCongressLast}. En realidad Ericcson recomienda para la próxima generación de redes para teléfonos móviles (5G) el que haya una compartición flexible del espectro: \ac{DSA} en frecuencias altas \cite{5gAccess} que son más indicadas para la masificación y localización debido a su pobre propagación.

Al ser una nueva zona del espectro para redes telefónicas, permite realizar nuevas técnicas (como las de \ac{CR}) permitiendo una compatibilidad hacia \ac{LTE} en la zona baja del espectro, donde se mantendrían las modulaciones y acceso al medio actuales evitando costes de actualización. En las frecuencias altas, la red de transporte entre nodos de las estaciones bases se puede realizar también de forma inalámbrica en esta misma zona alta del espectro que es más ancha aumentando la eficiencia si se comparte igualmente de forma dinámica.

Como vemos, es un campo fuertemente investigado por fabricantes de equipos de telecomunicaciones, universidades y también por fabricantes de terminales como Nokia quien tiene un espacio \textit{web} dedicado a sus investigaciones \cite{cnPhoneNokia} de entre los que cabe destacar un artículo~\cite{cnPhoneNokiaArticle} en el que se versa sobre comunicaciones \ac{D2D} mediante \ac{LTE} dentro de una célula estudiando el impacto sobre el usuario primario (la célula). Con esta método se demuestra que la capacidad observada en toda la célula aumenta.\\
Es obvio que estas nuevas técnicas afectan a las operadoras~\cite{cnPhoneCarrierPerspective} con ventajas e inconvenientes. Entre las ventajas, el incremento de parte del espectro en redes existentes, o la de acceder a nuevos mercados con mayor facilidad. Entre las desventajas tenemos que el valor del espectro se devalúa y aumenta la interferencia debido a los usuarios secundarios, pero parece ser que, en media, la capacidad aumenta y los costes de red disminuyen. El proyecto SENDORA~\cite{cnPhoneSendora} utiliza una \ac{WSN} para identificar zonas del espectro sin usar en ese momento.\\

Otros proyectos que podemos mencionar la tesis \cite{cnPhoneVirginia} en la que se hacen técnicas \ac{DSA} entre una placa BeagleBoard junto con un \sphone{} \android{} y un ordenador. El dispositivo \android{} habilita las funciones de sensado, pasarela y en general a realizar tareas que ésta no puede por motivos computacionales. Así como el proyecto fin de carrera~\cite{cnPhoneEtsit} en la que se diseñan escenarios de cambio de tecnología de comunicación entre un emisor y un receptor ante eventos de indisponibilidad.\\
En la misma línea podemos mencionar el proyecto Serval~\cite{cnPhoneServal} que recrea la red de transporte de una operadora mediante enlaces \wifi{} cifrados, habilitando las comunicaciones en caso de catástrofe o de inexistencia de red debido al alto coste.

%-------------------------------------------------------------------
%\section*{\NotasBibliograficas}
%-------------------------------------------------------------------
%\TocNotasBibliograficas

%Citamos algo para que aparezca en la bibliografía\ldots
%\citep{ldesc2e}

%\medskip

%Y también ponemos el acrónimo \ac{CVS} para que no cruja.

%Ten en cuenta que si no quieres acrónimos (o no quieres que te falle la compilación en ``release'' mientras no tengas ninguno) basta con que no definas la constante \verb+\acronimosEnRelease+ (en \texttt{config.tex}).


%-------------------------------------------------------------------
%\section*{\ProximoCapitulo}
%-------------------------------------------------------------------
%\TocProximoCapitulo


% Variable local para emacs, para  que encuentre el fichero maestro de
% compilación y funcionen mejor algunas teclas rápidas de AucTeX
%%%
%%% Local Variables:
%%% mode: latex
%%% TeX-master: "../Tesis.tex"
%%% End:
